<div class="container mt-4">
    <% if (products.length > 0) { %>
        <h2 class="text-center text-success mb-4">Product List</h2>


        <!-- Product Table -->
        <table class="table table-striped table-bordered">
            <thead class="table-success">
                <tr>
                    <th>Product Name</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Image</th>
                    <th>Quantity</th>
                    <th>Category</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% products.forEach((product) => { %>
                    <tr>
                        <td><%= product.name %></td>
                        <td><%= product.description %></td>
                        <td><%= product.price %></td>
                        <td><img src="/images/uploads/<%= product.image %>" alt="<%= product.name %>" width="100" height="100"></td>
                        <td><%= product.quantity %></td>
                        <td><%= product.category ? product.category.name : 'No Category' %></td>
                        <td class="d-flex justify-content-center">
                            <a href="/admin/product/edit/<%= product._id %>" class="btn btn-outline-success btn-sm me-2">Edit</a>
                            <a href="/admin/product/delete/<%= product._id %>" class="btn btn-outline-danger btn-sm">Delete</a>
                        </td>
                    </tr>
                <% }); %>
            </tbody>
        </table>

        <!-- Pagination Controls -->
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                <!-- Previous Page Link -->
                <li class="page-item <%= page == 1 ? 'disabled' : '' %>">
                    <a class="page-link" href="/admin/product/read?page=<%= page - 1 %>">Previous</a>
                </li>

                <!-- Page Number Links -->
                <% for (let index = 1; index <= totalPages; index++) { %>
                    <li class="page-item <%= page == index ? 'active' : '' %>">
                        <a class="page-link" href="/admin/product/read?page=<%= index %>"><%= index %></a>
                    </li>
                <% } %>

                <!-- Next Page Link -->
                <li class="page-item <%= page == totalPages ? 'disabled' : '' %>">
                    <a class="page-link" href="/admin/product/read?page=<%= page + 1 %>">Next</a>
                </li>
            </ul>
        </nav>

    <% } else { %>
        <h1 class="text-center text-danger">No Products Yet</h1>
    <% } %>
</div>
